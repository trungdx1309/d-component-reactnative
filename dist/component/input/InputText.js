import _pt from "prop-types";
import ClassNames from "classnames";
import React, { useState } from "react";
import { TextInput as RNTextInput } from "react-native";
import Text from "../text/Text";
import View from "../view/View";
import { getStyleProps } from "../../style/style";
import Icon from "../icon/Icon";
import AppSizes from "../../style/constant/AppSizes";

const InputText = ({
  variant = "standard",
  error,
  label,
  height = AppSizes.inputHeight,
  className,
  classNameInput,
  classNameWrapper,
  classNameLabel,
  styleInput,
  onBlur,
  onFocus,
  iconName,
  onPressIcon,
  multiline,
  ...rest
}, ref) => {
  const [focusing, setFocusing] = useState(false);
  const hasBorder = variant === "outline" || variant === "pill" || variant === "rounded";
  const containerClass = ClassNames(`w-100`, `${className}`);
  const labelClass = ClassNames(`h5`, {
    "mb-1": hasBorder,
    "font-weight-bold": focusing
  }, `${classNameLabel}`);
  const wrapperClass = ClassNames("flex-center-y", {
    border: hasBorder,
    "border-bottom-1": variant === "standard",
    "rounded-pill": variant === "pill",
    "rounded-1": variant === "rounded",
    "border-primary": focusing,
    "border-error": !!error,
    "px-1": variant === "pill"
  }, classNameWrapper);
  const inputClass = ClassNames("px-1", {}, classNameInput);
  const errorClass = ClassNames("mt-1 flex-center-y", {
    "px-2": variant === "pill"
  }, classNameInput);
  return <View className={containerClass}>
      {label && <Text className={labelClass}>{label}</Text>}
      <View className={wrapperClass}>
        <TextInput className={inputClass} onFocus={e => {
        onFocus && onFocus(e);
        setFocusing(true);
      }} onBlur={e => {
        onBlur && onBlur(e);
        setFocusing(false);
      }} {...rest} style={[{
        height,
        flex: 1
      }, styleInput]} />
        {iconName && <Icon name={iconName} color={// eslint-disable-next-line no-nested-ternary
      focusing ? error ? "error" : "primary" : error ? "error" : "grey"} type="material" size={20} className="mr-1" onPress={onPressIcon} />}
      </View>
      {error && <View className={errorClass}>
          <Icon name="info" size={12} color="error" />
          <Text className="text-error h5 ml-1">{error}</Text>
        </View>}
    </View>;
};

export default React.forwardRef(InputText);
export const TextInput = ({
  style,
  children,
  ...rest
}) => {
  const transStyle = getStyleProps(rest);
  return <RNTextInput style={[transStyle, style]} {...rest} />;
};
TextInput.propTypes = {
  className: _pt.string
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnQvaW5wdXQvSW5wdXRUZXh0LnRzeCJdLCJuYW1lcyI6WyJDbGFzc05hbWVzIiwiUmVhY3QiLCJ1c2VTdGF0ZSIsIlRleHRJbnB1dCIsIlJOVGV4dElucHV0IiwiVGV4dCIsIlZpZXciLCJnZXRTdHlsZVByb3BzIiwiSWNvbiIsIkFwcFNpemVzIiwiSW5wdXRUZXh0IiwidmFyaWFudCIsImVycm9yIiwibGFiZWwiLCJoZWlnaHQiLCJpbnB1dEhlaWdodCIsImNsYXNzTmFtZSIsImNsYXNzTmFtZUlucHV0IiwiY2xhc3NOYW1lV3JhcHBlciIsImNsYXNzTmFtZUxhYmVsIiwic3R5bGVJbnB1dCIsIm9uQmx1ciIsIm9uRm9jdXMiLCJpY29uTmFtZSIsIm9uUHJlc3NJY29uIiwibXVsdGlsaW5lIiwicmVzdCIsInJlZiIsImZvY3VzaW5nIiwic2V0Rm9jdXNpbmciLCJoYXNCb3JkZXIiLCJjb250YWluZXJDbGFzcyIsImxhYmVsQ2xhc3MiLCJ3cmFwcGVyQ2xhc3MiLCJib3JkZXIiLCJpbnB1dENsYXNzIiwiZXJyb3JDbGFzcyIsImUiLCJmbGV4IiwiZm9yd2FyZFJlZiIsInN0eWxlIiwiY2hpbGRyZW4iLCJ0cmFuc1N0eWxlIl0sIm1hcHBpbmdzIjoiO0FBQUEsT0FBT0EsVUFBUCxNQUF1QixZQUF2QjtBQUNBLE9BQU9DLEtBQVAsSUFBZ0JDLFFBQWhCLFFBQWdDLE9BQWhDO0FBQ0EsU0FFRUMsU0FBUyxJQUFJQyxXQUZmLFFBT08sY0FQUDtBQVFBLE9BQU9DLElBQVA7QUFDQSxPQUFPQyxJQUFQO0FBQ0EsU0FBU0MsYUFBVDtBQUNBLE9BQU9DLElBQVA7QUFDQSxPQUFPQyxRQUFQOztBQWtCQSxNQUFNQyxTQUdMLEdBQUcsQ0FDRjtBQUNFQyxFQUFBQSxPQUFPLEdBQUcsVUFEWjtBQUVFQyxFQUFBQSxLQUZGO0FBR0VDLEVBQUFBLEtBSEY7QUFJRUMsRUFBQUEsTUFBTSxHQUFHTCxRQUFRLENBQUNNLFdBSnBCO0FBS0VDLEVBQUFBLFNBTEY7QUFNRUMsRUFBQUEsY0FORjtBQU9FQyxFQUFBQSxnQkFQRjtBQVFFQyxFQUFBQSxjQVJGO0FBU0VDLEVBQUFBLFVBVEY7QUFVRUMsRUFBQUEsTUFWRjtBQVdFQyxFQUFBQSxPQVhGO0FBWUVDLEVBQUFBLFFBWkY7QUFhRUMsRUFBQUEsV0FiRjtBQWNFQyxFQUFBQSxTQWRGO0FBZUUsS0FBR0M7QUFmTCxDQURFLEVBa0JGQyxHQWxCRSxLQW1CQztBQUNILFFBQU0sQ0FBQ0MsUUFBRCxFQUFXQyxXQUFYLElBQTBCM0IsUUFBUSxDQUFDLEtBQUQsQ0FBeEM7QUFDQSxRQUFNNEIsU0FBUyxHQUNibkIsT0FBTyxLQUFLLFNBQVosSUFBeUJBLE9BQU8sS0FBSyxNQUFyQyxJQUErQ0EsT0FBTyxLQUFLLFNBRDdEO0FBR0EsUUFBTW9CLGNBQWMsR0FBRy9CLFVBQVUsQ0FBRSxPQUFGLEVBQVcsR0FBRWdCLFNBQVUsRUFBdkIsQ0FBakM7QUFDQSxRQUFNZ0IsVUFBVSxHQUFHaEMsVUFBVSxDQUMxQixJQUQwQixFQUUzQjtBQUNFLFlBQVE4QixTQURWO0FBRUUsd0JBQW9CRjtBQUZ0QixHQUYyQixFQU0xQixHQUFFVCxjQUFlLEVBTlMsQ0FBN0I7QUFRQSxRQUFNYyxZQUFZLEdBQUdqQyxVQUFVLENBQzdCLGVBRDZCLEVBRTdCO0FBQ0VrQyxJQUFBQSxNQUFNLEVBQUVKLFNBRFY7QUFFRSx1QkFBbUJuQixPQUFPLEtBQUssVUFGakM7QUFHRSxvQkFBZ0JBLE9BQU8sS0FBSyxNQUg5QjtBQUlFLGlCQUFhQSxPQUFPLEtBQUssU0FKM0I7QUFLRSxzQkFBa0JpQixRQUxwQjtBQU1FLG9CQUFnQixDQUFDLENBQUNoQixLQU5wQjtBQU9FLFlBQVFELE9BQU8sS0FBSztBQVB0QixHQUY2QixFQVc3Qk8sZ0JBWDZCLENBQS9CO0FBYUEsUUFBTWlCLFVBQVUsR0FBR25DLFVBQVUsQ0FBQyxNQUFELEVBQVMsRUFBVCxFQUFhaUIsY0FBYixDQUE3QjtBQUNBLFFBQU1tQixVQUFVLEdBQUdwQyxVQUFVLENBQzNCLG9CQUQyQixFQUUzQjtBQUNFLFlBQVFXLE9BQU8sS0FBSztBQUR0QixHQUYyQixFQUszQk0sY0FMMkIsQ0FBN0I7QUFRQSxTQUNFLENBQUMsSUFBRCxDQUFNLFVBQVUsQ0FBQ2MsY0FBRCxDQUFoQjtBQUNKLE1BQU0sQ0FBQ2xCLEtBQUssSUFBSSxDQUFDLElBQUQsQ0FBTSxVQUFVLENBQUNtQixVQUFELENBQWhCLENBQTZCLENBQUNuQixLQUFELENBQU8sRUFBRSxJQUFGLENBQTlDO0FBQ04sTUFBTSxDQUFDLElBQUQsQ0FBTSxVQUFVLENBQUNvQixZQUFELENBQWhCO0FBQ04sUUFBUSxDQUFDLFNBQUQsQ0FDRSxVQUFVLENBQUNFLFVBQUQsQ0FEWixDQUVFLFFBQVEsQ0FBRUUsQ0FBRCxJQUFPO0FBQ2RmLFFBQUFBLE9BQU8sSUFBSUEsT0FBTyxDQUFDZSxDQUFELENBQWxCO0FBQ0FSLFFBQUFBLFdBQVcsQ0FBQyxJQUFELENBQVg7QUFDRCxPQUhPLENBRlYsQ0FNRSxPQUFPLENBQUVRLENBQUQsSUFBTztBQUNiaEIsUUFBQUEsTUFBTSxJQUFJQSxNQUFNLENBQUNnQixDQUFELENBQWhCO0FBQ0FSLFFBQUFBLFdBQVcsQ0FBQyxLQUFELENBQVg7QUFDRCxPQUhNLENBTlQsQ0FVRSxJQUFJSCxJQUFKLENBVkYsQ0FXRSxNQUFNLENBQUMsQ0FBQztBQUFFWixRQUFBQSxNQUFGO0FBQVV3QixRQUFBQSxJQUFJLEVBQUU7QUFBaEIsT0FBRCxFQUFzQmxCLFVBQXRCLENBQUQsQ0FYUjtBQWFSLFFBQVEsQ0FBQ0csUUFBUSxJQUNQLENBQUMsSUFBRCxDQUNFLEtBQUssQ0FBQ0EsUUFBRCxDQURQLENBRUUsTUFBTSxDQUNKO0FBQ0FLLE1BQUFBLFFBQVEsR0FDSmhCLEtBQUssR0FDSCxPQURHLEdBRUgsU0FIRSxHQUlKQSxLQUFLLEdBQ0wsT0FESyxHQUVMLE1BUkEsQ0FGUixDQVlFLEtBQUssVUFaUCxDQWFFLEtBQUssQ0FBQyxFQUFELENBYlAsQ0FjRSxVQUFVLE1BZFosQ0FlRSxRQUFRLENBQUNZLFdBQUQsQ0FmVixHQURGO0FBbUJSLE1BQU0sRUFBRSxJQUFGO0FBQ04sTUFBTSxDQUFDWixLQUFLLElBQ0osQ0FBQyxJQUFELENBQU0sVUFBVSxDQUFDd0IsVUFBRCxDQUFoQjtBQUNSLFVBQVUsQ0FBQyxJQUFELENBQU0sS0FBSyxNQUFYLENBQWtCLEtBQUssQ0FBQyxFQUFELENBQXZCLENBQTRCLE1BQU0sT0FBbEM7QUFDVixVQUFVLENBQUMsSUFBRCxDQUFNLFVBQVUsb0JBQWhCLENBQXFDLENBQUN4QixLQUFELENBQU8sRUFBRSxJQUFGO0FBQ3RELFFBQVEsRUFBRSxJQUFGLENBSkY7QUFNTixJQUFJLEVBQUUsSUFBRixDQTNDRjtBQTZDRCxDQXZHRDs7QUF5R0EsZUFBZVgsS0FBSyxDQUFDc0MsVUFBTixDQUFpQjdCLFNBQWpCLENBQWY7QUFNQSxPQUFPLE1BQU1QLFNBQW9DLEdBQUcsQ0FBQztBQUNuRHFDLEVBQUFBLEtBRG1EO0FBRW5EQyxFQUFBQSxRQUZtRDtBQUduRCxLQUFHZjtBQUhnRCxDQUFELEtBSTlDO0FBQ0osUUFBTWdCLFVBQVUsR0FBR25DLGFBQWEsQ0FBQ21CLElBQUQsQ0FBaEM7QUFDQSxTQUFPLENBQUMsV0FBRCxDQUFhLE1BQU0sQ0FBQyxDQUFDZ0IsVUFBRCxFQUFhRixLQUFiLENBQUQsQ0FBbkIsQ0FBeUMsSUFBSWQsSUFBSixDQUF6QyxHQUFQO0FBQ0QsQ0FQTTs7QUFITFYsRUFBQUEsUyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDbGFzc05hbWVzIGZyb20gXCJjbGFzc25hbWVzXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIFN0eWxlUHJvcCxcbiAgVGV4dElucHV0IGFzIFJOVGV4dElucHV0LFxuICBUZXh0SW5wdXRQcm9wcyxcbiAgVG91Y2hhYmxlT3BhY2l0eSxcbiAgVmlld1N0eWxlLFxuICBUZXh0U3R5bGUsXG59IGZyb20gXCJyZWFjdC1uYXRpdmVcIjtcbmltcG9ydCBUZXh0IGZyb20gXCIuLi90ZXh0L1RleHRcIjtcbmltcG9ydCBWaWV3IGZyb20gXCIuLi92aWV3L1ZpZXdcIjtcbmltcG9ydCB7IGdldFN0eWxlUHJvcHMgfSBmcm9tIFwiLi4vLi4vc3R5bGUvc3R5bGVcIjtcbmltcG9ydCBJY29uIGZyb20gXCIuLi9pY29uL0ljb25cIjtcbmltcG9ydCBBcHBTaXplcyBmcm9tIFwiLi4vLi4vc3R5bGUvY29uc3RhbnQvQXBwU2l6ZXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBJSW5wdXRUZXh0UHJvcHMgZXh0ZW5kcyBUZXh0SW5wdXRQcm9wcyB7XG4gIHZhcmlhbnQ/OiBcInN0YW5kYXJkXCIgfCBcIm91dGxpbmVcIiB8IFwicm91bmRlZFwiIHwgXCJwaWxsXCI7XG4gIGxhYmVsPzogYW55O1xuICBlcnJvcj86IGFueTtcbiAgaGVpZ2h0PzogbnVtYmVyO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIGNsYXNzTmFtZUxhYmVsPzogc3RyaW5nO1xuICBjbGFzc05hbWVXcmFwcGVyPzogc3RyaW5nO1xuICBjbGFzc05hbWVJbnB1dD86IHN0cmluZztcbiAgaWNvbk5hbWU/OiBzdHJpbmc7XG4gIHN0eWxlSW5wdXQ/OiBTdHlsZVByb3A8VGV4dFN0eWxlPjtcbiAgb25QcmVzc0ljb24/OiAocHJvcHM/OiBhbnkpID0+IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJSW5wdXRUZXh0TWV0aG9kIHt9XG5cbmNvbnN0IElucHV0VGV4dDogUmVhY3QuRm9yd2FyZFJlZlJlbmRlckZ1bmN0aW9uPFxuICBJSW5wdXRUZXh0TWV0aG9kLFxuICBJSW5wdXRUZXh0UHJvcHNcbj4gPSAoXG4gIHtcbiAgICB2YXJpYW50ID0gXCJzdGFuZGFyZFwiLFxuICAgIGVycm9yLFxuICAgIGxhYmVsLFxuICAgIGhlaWdodCA9IEFwcFNpemVzLmlucHV0SGVpZ2h0LFxuICAgIGNsYXNzTmFtZSxcbiAgICBjbGFzc05hbWVJbnB1dCxcbiAgICBjbGFzc05hbWVXcmFwcGVyLFxuICAgIGNsYXNzTmFtZUxhYmVsLFxuICAgIHN0eWxlSW5wdXQsXG4gICAgb25CbHVyLFxuICAgIG9uRm9jdXMsXG4gICAgaWNvbk5hbWUsXG4gICAgb25QcmVzc0ljb24sXG4gICAgbXVsdGlsaW5lLFxuICAgIC4uLnJlc3RcbiAgfSxcbiAgcmVmXG4pID0+IHtcbiAgY29uc3QgW2ZvY3VzaW5nLCBzZXRGb2N1c2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGhhc0JvcmRlciA9XG4gICAgdmFyaWFudCA9PT0gXCJvdXRsaW5lXCIgfHwgdmFyaWFudCA9PT0gXCJwaWxsXCIgfHwgdmFyaWFudCA9PT0gXCJyb3VuZGVkXCI7XG5cbiAgY29uc3QgY29udGFpbmVyQ2xhc3MgPSBDbGFzc05hbWVzKGB3LTEwMGAsIGAke2NsYXNzTmFtZX1gKTtcbiAgY29uc3QgbGFiZWxDbGFzcyA9IENsYXNzTmFtZXMoXG4gICAgYGg1YCxcbiAgICB7XG4gICAgICBcIm1iLTFcIjogaGFzQm9yZGVyLFxuICAgICAgXCJmb250LXdlaWdodC1ib2xkXCI6IGZvY3VzaW5nLFxuICAgIH0sXG4gICAgYCR7Y2xhc3NOYW1lTGFiZWx9YFxuICApO1xuICBjb25zdCB3cmFwcGVyQ2xhc3MgPSBDbGFzc05hbWVzKFxuICAgIFwiZmxleC1jZW50ZXIteVwiLFxuICAgIHtcbiAgICAgIGJvcmRlcjogaGFzQm9yZGVyLFxuICAgICAgXCJib3JkZXItYm90dG9tLTFcIjogdmFyaWFudCA9PT0gXCJzdGFuZGFyZFwiLFxuICAgICAgXCJyb3VuZGVkLXBpbGxcIjogdmFyaWFudCA9PT0gXCJwaWxsXCIsXG4gICAgICBcInJvdW5kZWQtMVwiOiB2YXJpYW50ID09PSBcInJvdW5kZWRcIixcbiAgICAgIFwiYm9yZGVyLXByaW1hcnlcIjogZm9jdXNpbmcsXG4gICAgICBcImJvcmRlci1lcnJvclwiOiAhIWVycm9yLFxuICAgICAgXCJweC0xXCI6IHZhcmlhbnQgPT09IFwicGlsbFwiLFxuICAgIH0sXG4gICAgY2xhc3NOYW1lV3JhcHBlclxuICApO1xuICBjb25zdCBpbnB1dENsYXNzID0gQ2xhc3NOYW1lcyhcInB4LTFcIiwge30sIGNsYXNzTmFtZUlucHV0KTtcbiAgY29uc3QgZXJyb3JDbGFzcyA9IENsYXNzTmFtZXMoXG4gICAgXCJtdC0xIGZsZXgtY2VudGVyLXlcIixcbiAgICB7XG4gICAgICBcInB4LTJcIjogdmFyaWFudCA9PT0gXCJwaWxsXCIsXG4gICAgfSxcbiAgICBjbGFzc05hbWVJbnB1dFxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPFZpZXcgY2xhc3NOYW1lPXtjb250YWluZXJDbGFzc30+XG4gICAgICB7bGFiZWwgJiYgPFRleHQgY2xhc3NOYW1lPXtsYWJlbENsYXNzfT57bGFiZWx9PC9UZXh0Pn1cbiAgICAgIDxWaWV3IGNsYXNzTmFtZT17d3JhcHBlckNsYXNzfT5cbiAgICAgICAgPFRleHRJbnB1dFxuICAgICAgICAgIGNsYXNzTmFtZT17aW5wdXRDbGFzc31cbiAgICAgICAgICBvbkZvY3VzPXsoZSkgPT4ge1xuICAgICAgICAgICAgb25Gb2N1cyAmJiBvbkZvY3VzKGUpO1xuICAgICAgICAgICAgc2V0Rm9jdXNpbmcodHJ1ZSk7XG4gICAgICAgICAgfX1cbiAgICAgICAgICBvbkJsdXI9eyhlKSA9PiB7XG4gICAgICAgICAgICBvbkJsdXIgJiYgb25CbHVyKGUpO1xuICAgICAgICAgICAgc2V0Rm9jdXNpbmcoZmFsc2UpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgey4uLnJlc3R9XG4gICAgICAgICAgc3R5bGU9e1t7IGhlaWdodCwgZmxleDogMSB9LCBzdHlsZUlucHV0XX1cbiAgICAgICAgLz5cbiAgICAgICAge2ljb25OYW1lICYmIChcbiAgICAgICAgICA8SWNvblxuICAgICAgICAgICAgbmFtZT17aWNvbk5hbWV9XG4gICAgICAgICAgICBjb2xvcj17XG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgICAgICAgICAgICBmb2N1c2luZ1xuICAgICAgICAgICAgICAgID8gZXJyb3JcbiAgICAgICAgICAgICAgICAgID8gXCJlcnJvclwiXG4gICAgICAgICAgICAgICAgICA6IFwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgOiBlcnJvclxuICAgICAgICAgICAgICAgID8gXCJlcnJvclwiXG4gICAgICAgICAgICAgICAgOiBcImdyZXlcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHlwZT1cIm1hdGVyaWFsXCJcbiAgICAgICAgICAgIHNpemU9ezIwfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibXItMVwiXG4gICAgICAgICAgICBvblByZXNzPXtvblByZXNzSWNvbn1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9WaWV3PlxuICAgICAge2Vycm9yICYmIChcbiAgICAgICAgPFZpZXcgY2xhc3NOYW1lPXtlcnJvckNsYXNzfT5cbiAgICAgICAgICA8SWNvbiBuYW1lPVwiaW5mb1wiIHNpemU9ezEyfSBjb2xvcj1cImVycm9yXCIgLz5cbiAgICAgICAgICA8VGV4dCBjbGFzc05hbWU9XCJ0ZXh0LWVycm9yIGg1IG1sLTFcIj57ZXJyb3J9PC9UZXh0PlxuICAgICAgICA8L1ZpZXc+XG4gICAgICApfVxuICAgIDwvVmlldz5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0LmZvcndhcmRSZWYoSW5wdXRUZXh0KTtcblxuZXhwb3J0IGludGVyZmFjZSBJVGV4dElucHV0UHJvcHMgZXh0ZW5kcyBUZXh0SW5wdXRQcm9wcyB7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IFRleHRJbnB1dDogUmVhY3QuRkM8SVRleHRJbnB1dFByb3BzPiA9ICh7XG4gIHN0eWxlLFxuICBjaGlsZHJlbixcbiAgLi4ucmVzdFxufSkgPT4ge1xuICBjb25zdCB0cmFuc1N0eWxlID0gZ2V0U3R5bGVQcm9wcyhyZXN0KTtcbiAgcmV0dXJuIDxSTlRleHRJbnB1dCBzdHlsZT17W3RyYW5zU3R5bGUsIHN0eWxlXX0gey4uLnJlc3R9IC8+O1xufTtcbiJdfQ==